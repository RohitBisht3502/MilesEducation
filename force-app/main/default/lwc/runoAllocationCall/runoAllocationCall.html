<template>
  <lightning-quick-action-panel header="Allocate Lead to Runo">
    <div class="slds-p-around_medium">
      <template if:true={loading}>
        <lightning-spinner alternative-text="Sending..." size="small"></lightning-spinner>
        <div class="slds-m-top_small">Calling Runo Allocation APIâ€¦</div>
      </template>

      <template if:true={resultText}>
        <lightning-formatted-text value={resultText}></lightning-formatted-text>
      </template>

      <template if:true={errorText}>
        <div class="slds-text-color_error">{errorText}</div>
      </template>
    </div>

    <div slot="footer">
      <lightning-button variant="neutral" label="Close" onclick={close}></lightning-button>
      <lightning-button
        class="slds-m-left_small"
        variant="brand"
        label="Call Runo"
        onclick={callApi}
        disabled={loading}
      ></lightning-button>
    </div>
  </lightning-quick-action-panel>
</template>